{"ast":null,"code":"import axios from 'axios';\nimport { BOARD_INIT, BOARD_GET_SUCCESS, BOARD_GET_FAILURE, BOARD_SCROLL_GET, BOARD_SCROLL_GET_SUCCESS, BOARD_SCROLL_GET_FAILURE } from \"./ActionTypes\"; // Board 초기화 액션 생성자\n\nexport function initiateBoard() {\n  return {\n    type: BOARD_INIT\n  };\n} // Board Data GET 액션 생성자\n\nexport function getBoardRequest(boardName, scroll, search, successAction = getBoardSuccess, failureAction = getBoardFailure) {\n  return dispatch => {\n    /* search 데이터를 정제하는 과정(함수) 필요 */\n    // GET 요청을 보낼 url\n    // ex) '/api/market/?scroll=1', '/api/network/?scroll=2&q=전공책'\n    const GETurl = \"/api/\".concat(boardName, \"/?scroll=\").concat(scroll).concat(search ? \"&q=\".concat(search) : '');\n    console.log(GETurl); // GETurl로 GET 요청 보내기\n\n    return axios.get(GETurl) // 성공하면, postlist 데이터를 가져와서 성공 액션을 dispatch 하고,\n    .then(res => res.data.postlist).then(postlist => {\n      console.log(postlist);\n      dispatch(successAction(search, postlist));\n    }) // 실패하면, 실패 액션을 dispatch 한다.\n    .catch(err => {\n      dispatch(failureAction(err));\n    });\n  };\n}\nexport function getBoardSuccess(search = '', postlist) {\n  return {\n    type: BOARD_GET_SUCCESS,\n    search,\n    postlist\n  };\n}\nexport function getBoardFailure(err) {\n  return {\n    type: BOARD_GET_FAILURE,\n    err\n  };\n}\nexport function getBoardRequestByScroll(boardName, scroll, search) {\n  console.log('get scroll');\n  return dispatch => {\n    dispatch(getBoardByScroll);\n    dispatch(getBoardRequest(boardName, scroll, search, getBoardByScrollSuccess, getBoardByScrollFailure));\n  };\n}\nexport function getBoardByScroll() {\n  console.log('scroll');\n  return {\n    type: BOARD_SCROLL_GET\n  };\n}\nexport function getBoardByScrollSuccess(search = '', postlist) {\n  console.log('scroll success');\n  return {\n    type: BOARD_SCROLL_GET_SUCCESS,\n    search,\n    postlist\n  };\n}\nexport function getBoardByScrollFailure(err) {\n  return {\n    type: BOARD_SCROLL_GET_FAILURE,\n    err\n  };\n}","map":{"version":3,"sources":["/Users/soogeun/Documents/GitHub/Uitda-Soogeun-WorkSpace/frontend/src/store/actions/board.js"],"names":["axios","BOARD_INIT","BOARD_GET_SUCCESS","BOARD_GET_FAILURE","BOARD_SCROLL_GET","BOARD_SCROLL_GET_SUCCESS","BOARD_SCROLL_GET_FAILURE","initiateBoard","type","getBoardRequest","boardName","scroll","search","successAction","getBoardSuccess","failureAction","getBoardFailure","dispatch","GETurl","console","log","get","then","res","data","postlist","catch","err","getBoardRequestByScroll","getBoardByScroll","getBoardByScrollSuccess","getBoardByScrollFailure"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SACIC,UADJ,EAEIC,iBAFJ,EAGIC,iBAHJ,EAIIC,gBAJJ,EAKIC,wBALJ,EAMIC,wBANJ,QAOO,eAPP,C,CAUA;;AAEA,OAAO,SAASC,aAAT,GAAyB;AAC5B,SAAO;AACHC,IAAAA,IAAI,EAAEP;AADH,GAAP;AAGH,C,CAGD;;AAEA,OAAO,SAASQ,eAAT,CAAyBC,SAAzB,EAAoCC,MAApC,EAA4CC,MAA5C,EAAoDC,aAAa,GAAGC,eAApE,EAAqFC,aAAa,GAAGC,eAArG,EAAsH;AACzH,SAAQC,QAAD,IAAc;AAEjB;AAEA;AACA;AACA,UAAMC,MAAM,kBAAWR,SAAX,sBAAgCC,MAAhC,SAAyCC,MAAM,gBAAOA,MAAP,IAAgB,EAA/D,CAAZ;AAEAO,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ,EARiB,CAUjB;;AACA,WAAOlB,KAAK,CAACqB,GAAN,CAAUH,MAAV,EAEP;AAFO,KAGNI,IAHM,CAGDC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAASC,QAHf,EAINH,IAJM,CAIDG,QAAQ,IAAI;AACdN,MAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;AACAR,MAAAA,QAAQ,CAACJ,aAAa,CAACD,MAAD,EAASa,QAAT,CAAd,CAAR;AACH,KAPM,EASP;AATO,KAUNC,KAVM,CAUAC,GAAG,IAAI;AACVV,MAAAA,QAAQ,CAACF,aAAa,CAACY,GAAD,CAAd,CAAR;AACH,KAZM,CAAP;AAaH,GAxBD;AAyBH;AAED,OAAO,SAASb,eAAT,CAAyBF,MAAM,GAAG,EAAlC,EAAsCa,QAAtC,EAAgD;AACnD,SAAO;AACHjB,IAAAA,IAAI,EAAEN,iBADH;AAEHU,IAAAA,MAFG;AAGHa,IAAAA;AAHG,GAAP;AAKH;AAED,OAAO,SAAST,eAAT,CAAyBW,GAAzB,EAA8B;AACjC,SAAO;AACHnB,IAAAA,IAAI,EAAEL,iBADH;AAEHwB,IAAAA;AAFG,GAAP;AAIH;AAGD,OAAO,SAASC,uBAAT,CAAiClB,SAAjC,EAA4CC,MAA5C,EAAoDC,MAApD,EAA4D;AAC/DO,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,SAAQH,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACY,gBAAD,CAAR;AACAZ,IAAAA,QAAQ,CAACR,eAAe,CAACC,SAAD,EAAYC,MAAZ,EAAoBC,MAApB,EAA4BkB,uBAA5B,EAAqDC,uBAArD,CAAhB,CAAR;AACH,GAHD;AAIH;AAED,OAAO,SAASF,gBAAT,GAA4B;AAC/BV,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,SAAO;AACHZ,IAAAA,IAAI,EAAEJ;AADH,GAAP;AAGH;AAED,OAAO,SAAS0B,uBAAT,CAAiClB,MAAM,GAAG,EAA1C,EAA8Ca,QAA9C,EAAwD;AAC3DN,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,SAAO;AACHZ,IAAAA,IAAI,EAAEH,wBADH;AAEHO,IAAAA,MAFG;AAGHa,IAAAA;AAHG,GAAP;AAKH;AAED,OAAO,SAASM,uBAAT,CAAiCJ,GAAjC,EAAsC;AACzC,SAAO;AACHnB,IAAAA,IAAI,EAAEF,wBADH;AAEHqB,IAAAA;AAFG,GAAP;AAIH","sourcesContent":["import axios from 'axios';\n\nimport { \n    BOARD_INIT,\n    BOARD_GET_SUCCESS,\n    BOARD_GET_FAILURE,\n    BOARD_SCROLL_GET,\n    BOARD_SCROLL_GET_SUCCESS,\n    BOARD_SCROLL_GET_FAILURE\n} from \"./ActionTypes\";\n\n\n// Board 초기화 액션 생성자\n\nexport function initiateBoard() {\n    return {\n        type: BOARD_INIT\n    }\n}\n\n\n// Board Data GET 액션 생성자\n\nexport function getBoardRequest(boardName, scroll, search, successAction = getBoardSuccess, failureAction = getBoardFailure) {\n    return (dispatch) => {\n\n        /* search 데이터를 정제하는 과정(함수) 필요 */\n\n        // GET 요청을 보낼 url\n        // ex) '/api/market/?scroll=1', '/api/network/?scroll=2&q=전공책'\n        const GETurl = `/api/${boardName}/?scroll=${scroll}${search?`&q=${search}`:''}`;    \n\n        console.log(GETurl)\n\n        // GETurl로 GET 요청 보내기\n        return axios.get(GETurl)\n        \n        // 성공하면, postlist 데이터를 가져와서 성공 액션을 dispatch 하고,\n        .then(res => res.data.postlist)\n        .then(postlist => {\n            console.log(postlist)\n            dispatch(successAction(search, postlist))\n        })\n        \n        // 실패하면, 실패 액션을 dispatch 한다.\n        .catch(err => {\n            dispatch(failureAction(err))\n        })\n    }\n}\n\nexport function getBoardSuccess(search = '', postlist) {\n    return {\n        type: BOARD_GET_SUCCESS,\n        search,\n        postlist\n    }\n}\n\nexport function getBoardFailure(err) {\n    return {\n        type: BOARD_GET_FAILURE,\n        err\n    }\n}\n\n\nexport function getBoardRequestByScroll(boardName, scroll, search) {\n    console.log('get scroll')\n    return (dispatch) => {\n        dispatch(getBoardByScroll);\n        dispatch(getBoardRequest(boardName, scroll, search, getBoardByScrollSuccess, getBoardByScrollFailure));\n    }\n}\n\nexport function getBoardByScroll() {\n    console.log('scroll')\n    return {\n        type: BOARD_SCROLL_GET\n    }\n}\n\nexport function getBoardByScrollSuccess(search = '', postlist) {\n    console.log('scroll success')\n    return {\n        type: BOARD_SCROLL_GET_SUCCESS,\n        search,\n        postlist\n    }\n}\n\nexport function getBoardByScrollFailure(err) {\n    return {\n        type: BOARD_SCROLL_GET_FAILURE,\n        err\n    }\n}"]},"metadata":{},"sourceType":"module"}