{"ast":null,"code":"import axios from 'axios';\nimport { BOARD_INIT, BOARD_GET_SUCCESS, BOARD_GET_FAILURE, BOARD_SCROLL_GET, BOARD_SCROLL_GET_SUCCESS, BOARD_SCROLL_GET_FAILURE } from \"./ActionTypes\"; // Board 초기화 액션 생성자\n\nexport function initiateBoard() {\n  return {\n    type: BOARD_INIT\n  };\n} // Board Data GET 액션 생성자\n\nexport function getBoardRequestByScroll(boardName, scroll, search) {\n  console.log('get scroll');\n  return dispatch => {\n    dispatch(getBoardByScroll);\n    getBoardRequest(boardName, scroll, search, getBoardByScrollSuccess, getBoardByScrollFailure);\n  };\n}\nexport function getBoardRequest(boardName, scroll, search, successAction = getBoardSuccess, failureAction = getBoardFailure) {\n  return dispatch => {\n    /* search 데이터를 정제하는 과정(함수) 필요 */\n    // GET 요청을 보낼 url\n    // ex) '/api/market/?scroll=1', '/api/network/?scroll=2&q=전공책'\n    const GETurl = \"/api/\".concat(boardName, \"/?scroll=\").concat(scroll).concat(search ? \"&q=\".concat(search) : '');\n    console.log(GETurl); // GETurl로 GET 요청 보내기\n\n    return axios.get(GETurl) // 성공하면, postlist 데이터를 가져와서 성공 액션을 dispatch 하고,\n    .then(res => res.data.postlist).then(postlist => {\n      console.log(postlist);\n      dispatch(successAction(search, postlist));\n    }) // 실패하면, 실패 액션을 dispatch 한다.\n    .catch(err => {\n      dispatch(failureAction(err));\n    });\n  };\n}\nexport function getBoardSuccess(search = '', postlist) {\n  return {\n    type: BOARD_GET_SUCCESS,\n    search,\n    postlist\n  };\n}\nexport function getBoardFailure(err) {\n  return {\n    type: BOARD_GET_FAILURE,\n    err\n  };\n}\nexport function getBoardByScroll() {\n  console.log('scroll');\n  return {\n    type: BOARD_SCROLL_GET\n  };\n}\nexport function getBoardByScrollSuccess(search = '', postlist) {\n  console.log('scroll success');\n  return {\n    type: BOARD_SCROLL_GET_SUCCESS,\n    search,\n    postlist\n  };\n}\nexport function getBoardByScrollFailure(err) {\n  return {\n    type: BOARD_SCROLL_GET_FAILURE,\n    err\n  };\n}","map":{"version":3,"sources":["/Users/soogeun/Documents/GitHub/Uitda-Soogeun-WorkSpace/frontend/src/store/actions/board.js"],"names":["axios","BOARD_INIT","BOARD_GET_SUCCESS","BOARD_GET_FAILURE","BOARD_SCROLL_GET","BOARD_SCROLL_GET_SUCCESS","BOARD_SCROLL_GET_FAILURE","initiateBoard","type","getBoardRequestByScroll","boardName","scroll","search","console","log","dispatch","getBoardByScroll","getBoardRequest","getBoardByScrollSuccess","getBoardByScrollFailure","successAction","getBoardSuccess","failureAction","getBoardFailure","GETurl","get","then","res","data","postlist","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SACIC,UADJ,EAEIC,iBAFJ,EAGIC,iBAHJ,EAIIC,gBAJJ,EAKIC,wBALJ,EAMIC,wBANJ,QAOO,eAPP,C,CAUA;;AAEA,OAAO,SAASC,aAAT,GAAyB;AAC5B,SAAO;AACHC,IAAAA,IAAI,EAAEP;AADH,GAAP;AAGH,C,CAGD;;AAEA,OAAO,SAASQ,uBAAT,CAAiCC,SAAjC,EAA4CC,MAA5C,EAAoDC,MAApD,EAA4D;AAC/DC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,SAAQC,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACC,gBAAD,CAAR;AACAC,IAAAA,eAAe,CAACP,SAAD,EAAYC,MAAZ,EAAoBC,MAApB,EAA4BM,uBAA5B,EAAqDC,uBAArD,CAAf;AACH,GAHD;AAIH;AAGD,OAAO,SAASF,eAAT,CAAyBP,SAAzB,EAAoCC,MAApC,EAA4CC,MAA5C,EAAoDQ,aAAa,GAAGC,eAApE,EAAqFC,aAAa,GAAGC,eAArG,EAAsH;AACzH,SAAQR,QAAD,IAAc;AAEjB;AAEA;AACA;AACA,UAAMS,MAAM,kBAAWd,SAAX,sBAAgCC,MAAhC,SAAyCC,MAAM,gBAAOA,MAAP,IAAgB,EAA/D,CAAZ;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAYU,MAAZ,EARiB,CAUjB;;AACA,WAAOxB,KAAK,CAACyB,GAAN,CAAUD,MAAV,EAEP;AAFO,KAGNE,IAHM,CAGDC,GAAG,IAAIA,GAAG,CAACC,IAAJ,CAASC,QAHf,EAINH,IAJM,CAIDG,QAAQ,IAAI;AACdhB,MAAAA,OAAO,CAACC,GAAR,CAAYe,QAAZ;AACAd,MAAAA,QAAQ,CAACK,aAAa,CAACR,MAAD,EAASiB,QAAT,CAAd,CAAR;AACH,KAPM,EASP;AATO,KAUNC,KAVM,CAUAC,GAAG,IAAI;AACVhB,MAAAA,QAAQ,CAACO,aAAa,CAACS,GAAD,CAAd,CAAR;AACH,KAZM,CAAP;AAaH,GAxBD;AAyBH;AAED,OAAO,SAASV,eAAT,CAAyBT,MAAM,GAAG,EAAlC,EAAsCiB,QAAtC,EAAgD;AACnD,SAAO;AACHrB,IAAAA,IAAI,EAAEN,iBADH;AAEHU,IAAAA,MAFG;AAGHiB,IAAAA;AAHG,GAAP;AAKH;AAED,OAAO,SAASN,eAAT,CAAyBQ,GAAzB,EAA8B;AACjC,SAAO;AACHvB,IAAAA,IAAI,EAAEL,iBADH;AAEH4B,IAAAA;AAFG,GAAP;AAIH;AAID,OAAO,SAASf,gBAAT,GAA4B;AAC/BH,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,SAAO;AACHN,IAAAA,IAAI,EAAEJ;AADH,GAAP;AAGH;AAED,OAAO,SAASc,uBAAT,CAAiCN,MAAM,GAAG,EAA1C,EAA8CiB,QAA9C,EAAwD;AAC3DhB,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,SAAO;AACHN,IAAAA,IAAI,EAAEH,wBADH;AAEHO,IAAAA,MAFG;AAGHiB,IAAAA;AAHG,GAAP;AAKH;AAED,OAAO,SAASV,uBAAT,CAAiCY,GAAjC,EAAsC;AACzC,SAAO;AACHvB,IAAAA,IAAI,EAAEF,wBADH;AAEHyB,IAAAA;AAFG,GAAP;AAIH","sourcesContent":["import axios from 'axios';\n\nimport { \n    BOARD_INIT,\n    BOARD_GET_SUCCESS,\n    BOARD_GET_FAILURE,\n    BOARD_SCROLL_GET,\n    BOARD_SCROLL_GET_SUCCESS,\n    BOARD_SCROLL_GET_FAILURE\n} from \"./ActionTypes\";\n\n\n// Board 초기화 액션 생성자\n\nexport function initiateBoard() {\n    return {\n        type: BOARD_INIT\n    }\n}\n\n\n// Board Data GET 액션 생성자\n\nexport function getBoardRequestByScroll(boardName, scroll, search) {\n    console.log('get scroll')\n    return (dispatch) => {\n        dispatch(getBoardByScroll);\n        getBoardRequest(boardName, scroll, search, getBoardByScrollSuccess, getBoardByScrollFailure);\n    }\n}\n\n\nexport function getBoardRequest(boardName, scroll, search, successAction = getBoardSuccess, failureAction = getBoardFailure) {\n    return (dispatch) => {\n\n        /* search 데이터를 정제하는 과정(함수) 필요 */\n\n        // GET 요청을 보낼 url\n        // ex) '/api/market/?scroll=1', '/api/network/?scroll=2&q=전공책'\n        const GETurl = `/api/${boardName}/?scroll=${scroll}${search?`&q=${search}`:''}`;    \n\n        console.log(GETurl)\n\n        // GETurl로 GET 요청 보내기\n        return axios.get(GETurl)\n        \n        // 성공하면, postlist 데이터를 가져와서 성공 액션을 dispatch 하고,\n        .then(res => res.data.postlist)\n        .then(postlist => {\n            console.log(postlist)\n            dispatch(successAction(search, postlist))\n        })\n        \n        // 실패하면, 실패 액션을 dispatch 한다.\n        .catch(err => {\n            dispatch(failureAction(err))\n        })\n    }\n}\n\nexport function getBoardSuccess(search = '', postlist) {\n    return {\n        type: BOARD_GET_SUCCESS,\n        search,\n        postlist\n    }\n}\n\nexport function getBoardFailure(err) {\n    return {\n        type: BOARD_GET_FAILURE,\n        err\n    }\n}\n\n\n\nexport function getBoardByScroll() {\n    console.log('scroll')\n    return {\n        type: BOARD_SCROLL_GET\n    }\n}\n\nexport function getBoardByScrollSuccess(search = '', postlist) {\n    console.log('scroll success')\n    return {\n        type: BOARD_SCROLL_GET_SUCCESS,\n        search,\n        postlist\n    }\n}\n\nexport function getBoardByScrollFailure(err) {\n    return {\n        type: BOARD_SCROLL_GET_FAILURE,\n        err\n    }\n}"]},"metadata":{},"sourceType":"module"}