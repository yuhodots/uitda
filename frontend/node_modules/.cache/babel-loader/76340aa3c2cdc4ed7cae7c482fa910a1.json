{"ast":null,"code":"var _jsxFileName = \"/Users/soogeun/Documents/GitHub/Uitda-Soogeun-WorkSpace/frontend/src/containers/BoardContainer.js\";\n//\n// 상위 컴포넌트: pages/Board\nimport React, { Component } from \"react\";\nimport { connect } from 'react-redux'; // 컴포넌트\n\nimport Board from \"../components/Board\";\nimport SearchIcon from \"../components/Structure/SearchIcon\"; // 액션\n\nimport { headerOn, headerOff, searchBarOn } from \"../store/actions/structure\";\nimport { InitateBoard, getBoardRequest } from '../store/actions/board';\nimport { topicSelect } from \"../store/actions/topic\";\n\nclass BoardContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isGetSuccess: false\n    };\n\n    this._initBoard = async () => {\n      const _this$props = this.props,\n            boardName = _this$props.boardName,\n            scroll = _this$props.scroll;\n      await this.props.InitateBoard();\n      console.log(\"After Init - \".concat(boardName, \", scroll: \").concat(scroll));\n      this.props.getBoardRequest(boardName, 0);\n      console.log(\"After getRequest - \".concat(boardName, \", scroll: \").concat(scroll));\n    };\n\n    this.onScroll = e => {\n      this.props.headerOff();\n\n      if (document.documentElement.scrollTop <= 64) {\n        this.props.headerOn();\n      }\n    };\n\n    this._getBoardRequest = (boardName, scroll, search) => {\n      this.props.getBoardRequest(boardName, scroll, search);\n      this.setState({\n        isGetSuccess: this.props.isGetSuccess\n      });\n    };\n\n    this._getScrollRequest = () => {\n      const _this$props2 = this.props,\n            boardName = _this$props2.boardName,\n            scroll = _this$props2.scroll;\n      this.props.getBoardRequest(boardName, scroll);\n    };\n  }\n\n  componentDidMount() {\n    const _this$props3 = this.props,\n          boardName = _this$props3.boardName,\n          scroll = _this$props3.scroll,\n          search = _this$props3.search;\n    console.log(\"Did Mount boardName: \".concat(boardName, \", scroll: \").concat(scroll, \", search: \").concat(search));\n    this.props.headerOn(); // 헤더 On\n\n    this.props.searchBarOn(); // 검색창 On\n\n    this.props.topicSelect(boardName); // app의 topic state를 boardName으로 설정\n    // this.props.InitateBoard();                              // Board 초기화\n    // console.log(`After Init - ${boardName}, scroll: ${scroll}, search: ${search}`)\n\n    this._initBoard(); // this.props.getBoardRequest(boardName, scroll, search);  // Board 데이터 GET 요청\n    // console.log(`After getRequest - ${boardName}, scroll: ${scroll}, search: ${search}`)\n    //this._getBoardRequest(boardName, scroll, search);\n\n\n    window.addEventListener('scroll', this.onScroll); // Scroll 이벤트가 생길 때, onScroll을 실행함\n  }\n\n  componentDidUpdate() {\n    const _this$props4 = this.props,\n          boardName = _this$props4.boardName,\n          scroll = _this$props4.scroll;\n    console.log(\"Did Update boardName: \".concat(boardName, \", scroll: \").concat(scroll)); // this.props.getBoardRequest(boardName, scroll);  // Board 데이터 GET 요청\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log(nextProps);\n  } // shouldComponentUpdate(nextProps) {\n  //     if (this.props.boardName !== nextProps.boardName){\n  //         return true;\n  //     }\n  //     return true;\n  // }\n\n\n  render() {\n    let _this$props5 = this.props,\n        boardName = _this$props5.boardName,\n        scroll = _this$props5.scroll,\n        postlist = _this$props5.postlist,\n        search = _this$props5.search,\n        isHeaderOn = _this$props5.isHeaderOn,\n        isGetSuccess = _this$props5.isGetSuccess,\n        headerOn = _this$props5.headerOn,\n        getBoardRequest = _this$props5.getBoardRequest;\n    console.log(\"render \".concat(isGetSuccess));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, isGetSuccess ? React.createElement(Board, {\n      boardName: boardName,\n      scroll: scroll,\n      postlist: postlist,\n      search: search,\n      getBoardRequest: getBoardRequest,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"PageError\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"\\uC0C8\\uB85C\\uACE0\\uCE68\\uC744 \\uB20C\\uB7EC\\uC8FC\\uC138\\uC694 :)\"), React.createElement(SearchIcon, {\n      isHeaderOn: isHeaderOn,\n      headerOn: headerOn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this._getScrollRequest,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"\\uC2A4\\uD06C\\uB864\"));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isGetSuccess: state.board.isGetSuccess,\n    // GET 요청이 성공했는 지 여부\n    postlist: state.board.postlist,\n    // postlist 데이터\n    scroll: state.board.scroll,\n    // 스크롤 횟수 (데이터를 받은 횟수)\n    search: state.board.search,\n    // 검색어 데이터\n    isHeaderOn: state.structure.isHeaderOn // 헤더가 On 인지\n\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    headerOn: () => {\n      dispatch(headerOn());\n    },\n    // 헤더를 나타나게 하는 메서드\n    headerOff: () => {\n      dispatch(headerOff());\n    },\n    // 헤더를 사라지게 하는 메서드\n    searchBarOn: () => {\n      dispatch(searchBarOn());\n    },\n    // 검색바를 나타나게 하는 메서드\n    InitateBoard: () => {\n      dispatch(InitateBoard());\n    },\n    // 보드 초기화 메서드 \n    getBoardRequest: (boardName, scroll, search) => {\n      // 보드 GET 요청 메서드\n      dispatch(getBoardRequest(boardName, scroll, search));\n    },\n    topicSelect: topic => {\n      dispatch(topicSelect(topic));\n    } // App의 topic state를 topic 값으로 설정\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BoardContainer);","map":{"version":3,"sources":["/Users/soogeun/Documents/GitHub/Uitda-Soogeun-WorkSpace/frontend/src/containers/BoardContainer.js"],"names":["React","Component","connect","Board","SearchIcon","headerOn","headerOff","searchBarOn","InitateBoard","getBoardRequest","topicSelect","BoardContainer","state","isGetSuccess","_initBoard","props","boardName","scroll","console","log","onScroll","e","document","documentElement","scrollTop","_getBoardRequest","search","setState","_getScrollRequest","componentDidMount","window","addEventListener","componentDidUpdate","componentWillReceiveProps","nextProps","render","postlist","isHeaderOn","mapStateToProps","board","structure","mapDispatchToProps","dispatch","topic"],"mappings":"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","sourcesContent":["//\n\n// 상위 컴포넌트: pages/Board\n\nimport React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\n// 컴포넌트\nimport Board from \"../components/Board\";\nimport SearchIcon from \"../components/Structure/SearchIcon\";\n\n// 액션\nimport {\n    headerOn,\n    headerOff,\n    searchBarOn,\n} from \"../store/actions/structure\"\n\nimport { \n    InitateBoard,\n    getBoardRequest\n} from '../store/actions/board'\n\nimport { topicSelect } from \"../store/actions/topic\";\n\nclass BoardContainer extends Component {    \n\n    state = {\n        isGetSuccess: false\n    }\n\n    componentDidMount() {\n\n        const { boardName, scroll, search } = this.props;\n\n        console.log(`Did Mount boardName: ${boardName}, scroll: ${scroll}, search: ${search}`)\n\n        this.props.headerOn();                                  // 헤더 On\n        this.props.searchBarOn();                               // 검색창 On\n        this.props.topicSelect(boardName);                      // app의 topic state를 boardName으로 설정\n\n        // this.props.InitateBoard();                              // Board 초기화\n\n        // console.log(`After Init - ${boardName}, scroll: ${scroll}, search: ${search}`)\n\n        this._initBoard()\n\n        // this.props.getBoardRequest(boardName, scroll, search);  // Board 데이터 GET 요청\n\n        // console.log(`After getRequest - ${boardName}, scroll: ${scroll}, search: ${search}`)\n\n        //this._getBoardRequest(boardName, scroll, search);\n\n        window.addEventListener('scroll', this.onScroll);       // Scroll 이벤트가 생길 때, onScroll을 실행함\n    }\n\n    _initBoard = async () => {\n        const { boardName, scroll} = this.props;\n        \n        await this.props.InitateBoard();\n        console.log(`After Init - ${boardName}, scroll: ${scroll}`)\n        this.props.getBoardRequest(boardName, 0);\n        console.log(`After getRequest - ${boardName}, scroll: ${scroll}`)\n    }\n\n    componentDidUpdate() {\n        const { boardName, scroll } = this.props;\n\n        console.log(`Did Update boardName: ${boardName}, scroll: ${scroll}`)\n\n        // this.props.getBoardRequest(boardName, scroll);  // Board 데이터 GET 요청\n    }\n\n    onScroll = (e) => {\n        this.props.headerOff();\n        if(document.documentElement.scrollTop <= 64){\n            this.props.headerOn();\n        }\n    }\n\n    _getBoardRequest = (boardName, scroll, search) => {\n        this.props.getBoardRequest(boardName, scroll, search);\n        this.setState({\n            isGetSuccess: this.props.isGetSuccess\n        })\n    }\n\n    componentWillReceiveProps(nextProps) {\n        console.log(nextProps)\n    }\n\n    // shouldComponentUpdate(nextProps) {\n    //     if (this.props.boardName !== nextProps.boardName){\n    //         return true;\n    //     }\n    //     return true;\n    // }\n\n    _getScrollRequest = () => {\n        const { boardName, scroll } = this.props\n        this.props.getBoardRequest(boardName, scroll)\n    }\n\n\n    render() {\n\n        let {\n            // properties\n            boardName,\n            scroll,\n            postlist,\n            search,\n            isHeaderOn,\n            isGetSuccess,\n\n            // methods\n            headerOn,\n            getBoardRequest\n        } = this.props;\n\n        console.log(`render ${isGetSuccess}`);\n\n        return (\n            <div>\n                {\n                    isGetSuccess ?\n                \n                    <Board\n                        boardName={boardName} \n                        scroll={scroll}\n                        postlist={postlist} \n                        search={search}\n                        getBoardRequest={getBoardRequest}\n                    /> :\n                    <div className='PageError'>\n                        새로고침을 눌러주세요 :)\n                    </div>\n                }              \n                <SearchIcon\n                    isHeaderOn={isHeaderOn}\n                    headerOn={headerOn}\n                />  \n                <button onClick={this._getScrollRequest}>스크롤</button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isGetSuccess: state.board.isGetSuccess,     // GET 요청이 성공했는 지 여부\n        postlist: state.board.postlist,             // postlist 데이터\n        scroll: state.board.scroll,                 // 스크롤 횟수 (데이터를 받은 횟수)\n        search: state.board.search,                 // 검색어 데이터\n        isHeaderOn: state.structure.isHeaderOn,     // 헤더가 On 인지\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        headerOn: () => {dispatch(headerOn())},                     // 헤더를 나타나게 하는 메서드\n        headerOff: () => {dispatch(headerOff())},                   // 헤더를 사라지게 하는 메서드\n        searchBarOn: () => {dispatch(searchBarOn())},               // 검색바를 나타나게 하는 메서드\n\n        InitateBoard: () => {dispatch(InitateBoard())},             // 보드 초기화 메서드 \n        getBoardRequest: (boardName, scroll, search) => {           // 보드 GET 요청 메서드\n            dispatch(getBoardRequest(boardName, scroll, search))\n        },\n\n        topicSelect: (topic) => {dispatch(topicSelect(topic))},     // App의 topic state를 topic 값으로 설정\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BoardContainer);"]},"metadata":{},"sourceType":"module"}